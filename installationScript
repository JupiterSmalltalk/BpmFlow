"INSTALLING SEASIDE 3.1"
Gofer new
  package: 'GsUpgrader-Core';
  url: 'http://ss3.gemtalksystems.com/ss/gsUpgrader';
  load.
(Smalltalk at: #GsUpgrader) upgradeGrease.

GsDeployer deploy: [
  Metacello new
    baseline: 'Seaside3';
    repository: 'github://GsDevKit/Seaside31:gs_master/repository';
    onLock: [:ex | ex honor];
    load: 'CI' ].
"INSTALLING ORBEON PACKAGES"
MetacelloToolBox validateConfiguration: ConfigurationOfSewaf.
MetacelloToolBox validateConfiguration: ConfigurationOfOrbeon.
MetacelloToolBox validateConfiguration: ConfigurationOfOrbeonWeb.
(ConfigurationOfSewaf project version: #'stable') load.
(ConfigurationOfOrbeonWeb project version: #'stable') load.

"ORBEON ENVIRONMENT INITIALIZATION"
WAAdmin register: WAOrbeonLogin asApplicationAt: 'orbeon'.

OrbeonUser initializeCache;
	addAdminUser.
OrbeonApplication initializeAllCache.
OrbeonServerConfiguration setHouse.
OrbeonUser cache last addRol: 'orbeon-ue-admin'.
"IMPORTING DATA FROM MYSQL"
(OrbeonApplication new app: 'ue') addToCache.
OrbeonHandler default prepare.
OrbeonHandler default
importFormDefinitionNamed: 'peticion-licencia-resultado' in: OrbeonApplication cache last.
OrbeonHandler default importDataFromScratchOf: 
(OrbeonApplication formsDefinitionNamed: 'peticion-licencia-resultado') last.
